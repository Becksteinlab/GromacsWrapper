

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Analysis core modules &mdash; GromacsWrapper 0.3.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.3.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/GromacsWrapper_logo_32x32.ico"/>
    <link rel="top" title="GromacsWrapper 0.3.1 documentation" href="../index.html" />
    <link rel="up" title="Analysis" href="../analysis.html" />
    <link rel="next" title="Support modules" href="support.html" />
    <link rel="prev" title="Analysis" href="../analysis.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="support.html" title="Support modules"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../analysis.html" title="Analysis"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">GromacsWrapper 0.3.1 documentation</a> &raquo;</li>
          <li><a href="../analysis.html" accesskey="U">Analysis</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/GromacsWrapper_logo_200x200.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Analysis core modules</a><ul>
<li><a class="reference internal" href="#gromacs-analysis-analysis-package-overview"><tt class="docutils literal"><span class="pre">gromacs.analysis</span></tt> &#8211; Analysis Package Overview</a><ul>
<li><a class="reference internal" href="#simulation-class">Simulation class</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#analysis-core-core-classes-for-analysis-of-gromacs-trajectories"><tt class="docutils literal"><span class="pre">analysis.core</span></tt> &#8211; Core classes for analysis of Gromacs trajectories</a><ul>
<li><a class="reference internal" href="#programming-api-for-plugins">Programming API for plugins</a><ul>
<li><a class="reference internal" href="#api-description">API description</a></li>
<li><a class="reference internal" href="#api-requirements">API requirements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../analysis.html"
                        title="previous chapter">Analysis</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="support.html"
                        title="next chapter">Support modules</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/analysis/core.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="analysis-core-modules">
<h1>Analysis core modules<a class="headerlink" href="#analysis-core-modules" title="Permalink to this headline">¶</a></h1>
<p>The core modules contain the important classes
<a class="reference internal" href="#gromacs.analysis.core.Simulation" title="gromacs.analysis.core.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">Simulation</span></tt></a> and
<a class="reference internal" href="#gromacs.analysis.core.Plugin" title="gromacs.analysis.core.Plugin"><tt class="xref py py-class docutils literal"><span class="pre">Plugin</span></tt></a>. An analysis class is derived from
<a class="reference internal" href="#gromacs.analysis.Simulation" title="gromacs.analysis.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">gromacs.analysis.Simulation</span></tt></a> and additional plugins from
<a class="reference internal" href="plugins.html#module-gromacs.analysis.plugins" title="gromacs.analysis.plugins"><tt class="xref py py-mod docutils literal"><span class="pre">gromacs.analysis.plugins</span></tt></a> are added to the instance; these plugin classes
must be derived from <a class="reference internal" href="#gromacs.analysis.core.Plugin" title="gromacs.analysis.core.Plugin"><tt class="xref py py-class docutils literal"><span class="pre">Plugin</span></tt></a>.</p>
<span class="target" id="module-gromacs.analysis"></span><div class="section" id="gromacs-analysis-analysis-package-overview">
<h2><a class="reference internal" href="#module-gromacs.analysis" title="gromacs.analysis"><tt class="xref py py-mod docutils literal"><span class="pre">gromacs.analysis</span></tt></a> &#8211; Analysis Package Overview<a class="headerlink" href="#gromacs-analysis-analysis-package-overview" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#module-gromacs.analysis" title="gromacs.analysis"><tt class="xref py py-mod docutils literal"><span class="pre">gromacs.analysis</span></tt></a> package is a framework for analyzing Gromacs MD
trajectories. The basic object is the <a class="reference internal" href="#gromacs.analysis.Simulation" title="gromacs.analysis.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">Simulation</span></tt></a> class. For a
particular project one has to derive a class from <a class="reference internal" href="#gromacs.analysis.Simulation" title="gromacs.analysis.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">Simulation</span></tt></a> and add
analysis plugin classes (from <a class="reference internal" href="plugins.html#module-gromacs.analysis.plugins" title="gromacs.analysis.plugins"><tt class="xref py py-mod docutils literal"><span class="pre">gromacs.analysis.plugins</span></tt></a>) for specific
analysis tasks. This is slightly cumbersome but flexible.</p>
<p>New analysis plugins should follow the API sketched out in
<a class="reference internal" href="#module-gromacs.analysis.core" title="gromacs.analysis.core"><tt class="xref py py-mod docutils literal"><span class="pre">gromacs.analysis.core</span></tt></a>; see an example for use there.</p>
<p>Right now the number of plugins is limited and simply demonstrates how to use
the framework in principle. If you would like to contribute your own plugins
feel free to send then to the <a class="reference external" href="mailto:oliver&#46;beckstein&#37;&#52;&#48;bioch&#46;ox&#46;ac&#46;uk">package author</a>. If they have been written
according to the API they will be added to the distribution and of course you
will be acknowledged in the list of plugin authors in
<a class="reference internal" href="plugins.html#module-gromacs.analysis.plugins" title="gromacs.analysis.plugins"><tt class="xref py py-mod docutils literal"><span class="pre">gromacs.analysis.plugins</span></tt></a>.</p>
<div class="section" id="simulation-class">
<h3>Simulation class<a class="headerlink" href="#simulation-class" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#gromacs.analysis.Simulation" title="gromacs.analysis.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">Simulation</span></tt></a> class is central for doing analysis. The user can
derive a custom analysis class that pre-defines values for plugins as seen in
the <a class="reference internal" href="#example">Example</a>.</p>
<dl class="class">
<dt id="gromacs.analysis.Simulation">
<em class="property">class </em><tt class="descclassname">gromacs.analysis.</tt><tt class="descname">Simulation</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.analysis.Simulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that represents one simulation.</p>
<p>Analysis capabilities are added via plugins.</p>
<ol class="arabic simple">
<li>Set the <em>active plugin</em> with the <a class="reference internal" href="#gromacs.analysis.Simulation.set_plugin" title="gromacs.analysis.Simulation.set_plugin"><tt class="xref py py-meth docutils literal"><span class="pre">Simulation.set_plugin()</span></tt></a> method.</li>
<li>Analyze the trajectory with the active plugin by calling the
<a class="reference internal" href="#gromacs.analysis.Simulation.run" title="gromacs.analysis.Simulation.run"><tt class="xref py py-meth docutils literal"><span class="pre">Simulation.run()</span></tt></a> method.</li>
<li>Analyze the output from <a class="reference internal" href="#gromacs.analysis.Simulation.run" title="gromacs.analysis.Simulation.run"><tt class="xref py py-meth docutils literal"><span class="pre">run()</span></tt></a> with <a class="reference internal" href="#gromacs.analysis.Simulation.analyze" title="gromacs.analysis.Simulation.analyze"><tt class="xref py py-meth docutils literal"><span class="pre">Simulation.analyze()</span></tt></a>; results are stored
in the plugin&#8217;s <tt class="xref py py-attr docutils literal"><span class="pre">results</span></tt> dictionary.</li>
<li>Plot results with <a class="reference internal" href="#gromacs.analysis.Simulation.plot" title="gromacs.analysis.Simulation.plot"><tt class="xref py py-meth docutils literal"><span class="pre">Simulation.plot()</span></tt></a>.</li>
</ol>
<p>Set up a Simulation object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Keywords :</th><td class="field-body"><dl class="first last docutils">
<dt><em>sim</em></dt>
<dd><p class="first last">Any object that contains the attributes <em>tpr</em>, <em>xtc</em>,
and optionally <em>ndx</em>
(e.g. <a class="reference internal" href="../gromacs/blocks/cbook.html#gromacs.cbook.Transformer" title="gromacs.cbook.Transformer"><tt class="xref py py-class docutils literal"><span class="pre">gromacs.cbook.Transformer</span></tt></a>). The individual keywords such
as <em>xtc</em> override the values in <em>sim</em>.</p>
</dd>
<dt><em>tpr</em></dt>
<dd><p class="first last">Gromacs tpr file (<strong>required</strong>)</p>
</dd>
<dt><em>xtc</em></dt>
<dd><p class="first last">Gromacs trajectory, can also be a trr (<strong>required</strong>)</p>
</dd>
<dt><em>edr</em></dt>
<dd><p class="first last">Gromacs energy file (only required for some plugins)</p>
</dd>
<dt><em>ndx</em></dt>
<dd><p class="first last">Gromacs index file</p>
</dd>
<dt><em>absolute</em></dt>
<dd><p class="first last"><tt class="docutils literal"><span class="pre">True</span></tt>: Turn file names into absolute paths (typically required
for most plugins); <tt class="docutils literal"><span class="pre">False</span></tt> keep a they are [<tt class="docutils literal"><span class="pre">True</span></tt>]</p>
</dd>
<dt><em>strict</em></dt>
<dd><p class="first last"><tt class="docutils literal"><span class="pre">True</span></tt>: missing required file keyword raises a <tt class="xref py py-exc docutils literal"><span class="pre">TypeError</span></tt>
and missing the file itself raises a <tt class="xref py py-exc docutils literal"><span class="pre">IOError</span></tt>.  <tt class="docutils literal"><span class="pre">False</span></tt>:
missing required files only give a warning. [<tt class="docutils literal"><span class="pre">True</span></tt>]</p>
</dd>
<dt><em>analysisdir</em></dt>
<dd><p class="first last">directory under which derived data are stored;
defaults to the directory containing the tpr [None]</p>
</dd>
<dt><em>plugins</em> <span class="classifier-delimiter">:</span> <span class="classifier">list</span></dt>
<dd><p class="first last">plugin instances or tuples (<em>plugin class</em>, <em>kwarg dict</em>) or tuples
(<em>plugin_class_name</em>, <em>kwarg dict</em>) to be used; more can be
added later with <a class="reference internal" href="#gromacs.analysis.Simulation.add_plugin" title="gromacs.analysis.Simulation.add_plugin"><tt class="xref py py-meth docutils literal"><span class="pre">Simulation.add_plugin()</span></tt></a>.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gromacs.analysis.Simulation.add_plugin">
<tt class="descname">add_plugin</tt><big>(</big><em>plugin</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.analysis.Simulation.add_plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a plugin to the registry.</p>
<ul class="simple">
<li>If <em>plugin</em> is a <tt class="xref py py-class docutils literal"><span class="pre">Plugin</span></tt> instance then the
instance is directly registered and any keyword arguments
are ignored.</li>
<li>If <em>plugin</em> is a <tt class="xref py py-class docutils literal"><span class="pre">Plugin</span></tt> class object or a
string that can be found in <a class="reference internal" href="plugins.html#module-gromacs.analysis.plugins" title="gromacs.analysis.plugins"><tt class="xref py py-mod docutils literal"><span class="pre">gromacs.analysis.plugins</span></tt></a>
then first an instance is created with the given keyword
arguments and then registered.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments :</th><td class="field-body"><dl class="first last docutils">
<dt><em>plugin</em> <span class="classifier-delimiter">:</span> <span class="classifier">class or string, or instance</span></dt>
<dd><p class="first">If the parameter is a class then it should have been derived
from <tt class="xref py py-class docutils literal"><span class="pre">Plugin</span></tt>. If it is a string then it is taken as a
plugin name in <a class="reference internal" href="plugins.html#module-gromacs.analysis.plugins" title="gromacs.analysis.plugins"><tt class="xref py py-mod docutils literal"><span class="pre">gromacs.analysis.plugins</span></tt></a> and the
corresponding class is added. In both cases any parameters for
initizlization should be provided.</p>
<p class="last">If <em>plugin</em> is already a <tt class="xref py py-class docutils literal"><span class="pre">Plugin</span></tt> instance then the kwargs
will be ignored.</p>
</dd>
<dt><em>kwargs</em></dt>
<dd><p class="first last">The kwargs are specific for the plugin and should be
described in its documentation.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.Simulation.set_plugin">
<tt class="descname">set_plugin</tt><big>(</big><em>plugin_name</em><big>)</big><a class="headerlink" href="#gromacs.analysis.Simulation.set_plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the plugin that should be used by default.</p>
<p>If no <em>plugin_name</em> is supplied to <a class="reference internal" href="#gromacs.analysis.Simulation.run" title="gromacs.analysis.Simulation.run"><tt class="xref py py-meth docutils literal"><span class="pre">run()</span></tt></a>, <a class="reference internal" href="#gromacs.analysis.Simulation.analyze" title="gromacs.analysis.Simulation.analyze"><tt class="xref py py-meth docutils literal"><span class="pre">analyze()</span></tt></a> etc. then
this will be used.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.Simulation.run">
<tt class="descname">run</tt><big>(</big><em>plugin_name=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.analysis.Simulation.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate data files as prerequisite to analysis.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.Simulation.analyze">
<tt class="descname">analyze</tt><big>(</big><em>plugin_name=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.analysis.Simulation.analyze" title="Permalink to this definition">¶</a></dt>
<dd><p>Run analysis for the plugin.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.Simulation.plot">
<tt class="descname">plot</tt><big>(</big><em>plugin_name=None</em>, <em>figure=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.analysis.Simulation.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot all data for the selected plugin:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">plot</span><span class="p">(</span><span class="n">plugin_name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments :</th><td class="field-body"><dl class="first last docutils">
<dt><em>plugin_name</em></dt>
<dd><p class="first last">name of the plugin to plot data from</p>
</dd>
<dt><em>figure</em></dt>
<dd><ul class="first last simple">
<li><tt class="docutils literal"><span class="pre">True</span></tt>: plot to file with default name.</li>
<li>string: use this filename (+extension for format)</li>
<li><tt class="docutils literal"><span class="pre">False</span></tt>: only display</li>
</ul>
</dd>
<dt><em>kwargs</em></dt>
<dd><p class="first last">arguments for plugin plot function (in many cases
provided by <tt class="xref py py-meth docutils literal"><span class="pre">gromacs.formats.XVG.plot()</span></tt> and
ultimately by <tt class="xref py py-func docutils literal"><span class="pre">pylab.plot()</span></tt>)</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<p>Here we analyze a protein, which has three Cysteines (C96, C243, C372). We
will use the <a class="reference internal" href="plugins.html#gromacs.analysis.plugins.CysAccessibility" title="gromacs.analysis.plugins.CysAccessibility"><tt class="xref py py-class docutils literal"><span class="pre">plugins.CysAccessibility</span></tt></a> and the
<a class="reference internal" href="plugins.html#gromacs.analysis.plugins.Distances" title="gromacs.analysis.plugins.Distances"><tt class="xref py py-class docutils literal"><span class="pre">plugins.Distances</span></tt></a> plugin (arguments for <tt class="docutils literal"><span class="pre">Distances</span></tt> omitted):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">gromacs.analysis</span> <span class="kn">import</span> <span class="n">Simulation</span>
<span class="kn">from</span> <span class="nn">gromacs.analysis.plugins</span> <span class="kn">import</span> <span class="n">CysAccessibility</span><span class="p">,</span> <span class="n">Distances</span>

<span class="n">S</span> <span class="o">=</span> <span class="n">Simulation</span><span class="p">(</span><span class="n">tpr</span><span class="o">=...</span><span class="p">,</span> <span class="n">xtc</span><span class="o">=...</span><span class="p">,</span> <span class="n">analysisdir</span><span class="o">=...</span><span class="p">,</span>
               <span class="n">plugins</span><span class="o">=</span><span class="p">[(</span><span class="s">&#39;CysAccessibility&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;cysteines&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">96</span><span class="p">,</span> <span class="mi">243</span><span class="p">,</span> <span class="mi">372</span><span class="p">]}),</span>
                        <span class="n">Distances</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
                        <span class="p">])</span>
<span class="n">S</span><span class="o">.</span><span class="n">set_plugin</span><span class="p">(</span><span class="s">&#39;CysAccessibility&#39;</span><span class="p">)</span>          <span class="c"># do CysAccessibility analysis</span>
<span class="n">S</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>                                   <span class="c"># analyze trajectory and write files</span>
<span class="n">S</span><span class="o">.</span><span class="n">analyze</span><span class="p">()</span>                               <span class="c"># analyze output files</span>
<span class="n">S</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">figure</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>                       <span class="c"># plot and save the figure</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Absolute paths for the files and <em>analysisdir</em> are a good
idea because many plugins change directory freely.</p>
</div>
<p>The plugins can be supplied when the <tt class="docutils literal"><span class="pre">Simulation</span></tt> object is
constructed, or they can be later added, e.g.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">S</span><span class="o">.</span><span class="n">add_plugin</span><span class="p">(</span><span class="n">Distances</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;Dist2&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">))</span>
</pre></div>
</div>
<p>This second <tt class="docutils literal"><span class="pre">Distances</span></tt> analysis would be available with</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">S</span><span class="o">.</span><span class="n">set_plugin</span><span class="p">(</span><span class="s">&#39;Dist2&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Other plugins might require no or a very different initialization. See the
plugin documentation for what is required.</p>
</div>
</div>
<span class="target" id="module-gromacs.analysis.core"></span><div class="section" id="analysis-core-core-classes-for-analysis-of-gromacs-trajectories">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">analysis.core</span></tt> &#8211; Core classes for analysis of Gromacs trajectories<a class="headerlink" href="#analysis-core-core-classes-for-analysis-of-gromacs-trajectories" title="Permalink to this headline">¶</a></h2>
<p>This documentation is mostly of interest to programmers who want to write
analysis plugins.</p>
<div class="section" id="programming-api-for-plugins">
<h3>Programming API for plugins<a class="headerlink" href="#programming-api-for-plugins" title="Permalink to this headline">¶</a></h3>
<p>Additional analysis capabilities are added to a
<a class="reference internal" href="#gromacs.analysis.Simulation" title="gromacs.analysis.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">gromacs.analysis.Simulation</span></tt></a> class with <em>plugin</em> classes. For
an example see <a class="reference internal" href="plugins.html#module-gromacs.analysis.plugins" title="gromacs.analysis.plugins"><tt class="xref py py-mod docutils literal"><span class="pre">gromacs.analysis.plugins</span></tt></a>.</p>
<div class="section" id="api-description">
<h4>API description<a class="headerlink" href="#api-description" title="Permalink to this headline">¶</a></h4>
<p>Analysis capabilities can be added with plugins to the simulation class. Each
plugin is registered with the simulation class and provides at a minimum
<tt class="xref py py-meth docutils literal"><span class="pre">run()</span></tt>, <tt class="xref py py-meth docutils literal"><span class="pre">analyze()</span></tt>, and <tt class="xref py py-meth docutils literal"><span class="pre">plot()</span></tt> methods.</p>
<p>A plugin consists of a subclass of <a class="reference internal" href="#gromacs.analysis.core.Plugin" title="gromacs.analysis.core.Plugin"><tt class="xref py py-class docutils literal"><span class="pre">Plugin</span></tt></a>  and an associated <a class="reference internal" href="#gromacs.analysis.core.Worker" title="gromacs.analysis.core.Worker"><tt class="xref py py-class docutils literal"><span class="pre">Worker</span></tt></a>
instance. The former is responsible for administrative tasks and documentation,
the latter implements the analysis code.</p>
<p>A plugin class must be derived from <a class="reference internal" href="#gromacs.analysis.core.Plugin" title="gromacs.analysis.core.Plugin"><tt class="xref py py-class docutils literal"><span class="pre">Plugin</span></tt></a> and typically bears the
name that is used to access it. A plugin instance must be <em>registered</em> with a
<a class="reference internal" href="#gromacs.analysis.core.Simulation" title="gromacs.analysis.core.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">Simulation</span></tt></a> object. This can be done implicitly by passing the
<a class="reference internal" href="#gromacs.analysis.core.Simulation" title="gromacs.analysis.core.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">Simulation</span></tt></a> instance in the <tt class="docutils literal"><span class="pre">simulation</span></tt> keyword argument to the
constructor or by explicitly calling the <a class="reference internal" href="#gromacs.analysis.core.Plugin.register" title="gromacs.analysis.core.Plugin.register"><tt class="xref py py-meth docutils literal"><span class="pre">Plugin.register()</span></tt></a> method with
the simulation instance. Alternatively, one can also register a plugin via the
<a class="reference internal" href="#gromacs.analysis.core.Simulation.add_plugin" title="gromacs.analysis.core.Simulation.add_plugin"><tt class="xref py py-meth docutils literal"><span class="pre">Simulation.add_plugin()</span></tt></a> method.</p>
<p>Registering the plugin means that the actual worker class is added to the
<tt class="xref py py-attr docutils literal"><span class="pre">Simulation.plugins</span></tt> dictionary.</p>
<p>A plugin must eventually obtain a pointer to the <a class="reference internal" href="#gromacs.analysis.core.Simulation" title="gromacs.analysis.core.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">Simulation</span></tt></a> class in
order to be able to access simulation-global parameters such as top directories
or input files.</p>
<p>See <tt class="xref py py-class docutils literal"><span class="pre">analysis.plugins.CysAccessibility</span></tt> and
<tt class="xref py py-class docutils literal"><span class="pre">analysis.plugins._CysAccessibility</span></tt> in
<tt class="docutils literal"><span class="pre">analysis/plugins/CysAccessibility.py</span></tt> as examples.</p>
</div>
<div class="section" id="api-requirements">
<h4>API requirements<a class="headerlink" href="#api-requirements" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Each plugin is contained in a separate module in the
<a class="reference internal" href="plugins.html#module-gromacs.analysis.plugins" title="gromacs.analysis.plugins"><tt class="xref py py-mod docutils literal"><span class="pre">gromacs.analysis.plugins</span></tt></a> package. The name of the module <em>must</em> be the
name of the plugin class in all lower case.</p>
</li>
<li><p class="first">The plugin name is registered in
<a class="reference internal" href="plugins.html#gromacs.analysis.plugins.__plugins__" title="gromacs.analysis.plugins.__plugins__"><tt class="xref py py-const docutils literal"><span class="pre">gromacs.analysis.plugins.__plugins__</span></tt></a>. (Together with the file naming
convention this allows for automatic and consistent loading.)</p>
</li>
<li><p class="first">The plugin itself is derived from <a class="reference internal" href="#gromacs.analysis.core.Plugin" title="gromacs.analysis.core.Plugin"><tt class="xref py py-class docutils literal"><span class="pre">Plugin</span></tt></a>; the only changes are the
doc strings and setting the <a class="reference internal" href="#gromacs.analysis.core.Plugin.worker_class" title="gromacs.analysis.core.Plugin.worker_class"><tt class="xref py py-attr docutils literal"><span class="pre">Plugin.worker_class</span></tt></a> class attribute to a
<a class="reference internal" href="#gromacs.analysis.core.Worker" title="gromacs.analysis.core.Worker"><tt class="xref py py-class docutils literal"><span class="pre">Worker</span></tt></a> class.</p>
</li>
<li><p class="first">The corresponding worker class is derived from <a class="reference internal" href="#gromacs.analysis.core.Worker" title="gromacs.analysis.core.Worker"><tt class="xref py py-class docutils literal"><span class="pre">Worker</span></tt></a> and must implement</p>
<ul class="simple">
<li><tt class="xref py py-meth docutils literal"><span class="pre">Worker.__init__()</span></tt> which can only use keyword arguments to initialize
the plugin. It must ensure that init methods of super classes are also
called. See the existing plugins for details.</li>
<li><tt class="xref py py-meth docutils literal"><span class="pre">Worker.run()</span></tt> which typically generates the data by analyzing a
trajectory, possibly multiple times. It should store results in files.</li>
<li><tt class="xref py py-meth docutils literal"><span class="pre">Worker.analyze()</span></tt> analyzes the data generated by <tt class="xref py py-meth docutils literal"><span class="pre">Worker.run()</span></tt>.</li>
<li><tt class="xref py py-meth docutils literal"><span class="pre">Worker.plot()</span></tt> plots the analyzed data.</li>
<li><a class="reference internal" href="#gromacs.analysis.core.Worker._register_hook" title="gromacs.analysis.core.Worker._register_hook"><tt class="xref py py-meth docutils literal"><span class="pre">Worker._register_hook()</span></tt></a> (see below)</li>
</ul>
</li>
<li><p class="first">The worker class can access parameters of the simulation via the
<tt class="xref py py-attr docutils literal"><span class="pre">Worker.simulation</span></tt> attribute that is automatically set when the plugin
registers itself with <tt class="xref py py-class docutils literal"><span class="pre">Simulations</span></tt>. However, the plugin should <em>not</em>
rely on <tt class="xref py py-attr docutils literal"><span class="pre">simulation</span></tt> being present during initialization
(__init__) because registration of the plugin might occur <em>after</em> init.</p>
<p>This also means that one cannot use the directory methods such as
<a class="reference internal" href="#gromacs.analysis.core.Worker.plugindir" title="gromacs.analysis.core.Worker.plugindir"><tt class="xref py py-meth docutils literal"><span class="pre">Worker.plugindir()</span></tt></a> because they depend on <a class="reference internal" href="#gromacs.analysis.core.Simulation.topdir" title="gromacs.analysis.core.Simulation.topdir"><tt class="xref py py-meth docutils literal"><span class="pre">Simulation.topdir()</span></tt></a> and
<a class="reference internal" href="#gromacs.analysis.core.Simulation.plugindir" title="gromacs.analysis.core.Simulation.plugindir"><tt class="xref py py-meth docutils literal"><span class="pre">Simulation.plugindir()</span></tt></a>.</p>
<p>Any initialization that requires access to the <a class="reference internal" href="#gromacs.analysis.core.Simulation" title="gromacs.analysis.core.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">Simulation</span></tt></a> instance
should be moved into the <a class="reference internal" href="#gromacs.analysis.core.Worker._register_hook" title="gromacs.analysis.core.Worker._register_hook"><tt class="xref py py-meth docutils literal"><span class="pre">Worker._register_hook()</span></tt></a> method. It is called
when the plugin is actually being registered. Note that the hook <em>must</em> also
call the hook of the super class before setting any values. The hook should
pop any arguments that it requires and ignore everything else.</p>
</li>
<li><p class="first">Parameters of the plugin are stored in <tt class="xref py py-attr docutils literal"><span class="pre">Worker.parameters</span></tt> (either as
attributes or as key/value pairs, see the container class
<a class="reference internal" href="../gromacs/core/utilities.html#gromacs.utilities.AttributeDict" title="gromacs.utilities.AttributeDict"><tt class="xref py py-class docutils literal"><span class="pre">gromacs.utilities.AttributeDict</span></tt></a>).</p>
</li>
<li><p class="first">Results are stored in <tt class="xref py py-attr docutils literal"><span class="pre">Worker.results</span></tt> (also a <a class="reference internal" href="../gromacs/core/utilities.html#gromacs.utilities.AttributeDict" title="gromacs.utilities.AttributeDict"><tt class="xref py py-class docutils literal"><span class="pre">gromacs.utilities.AttributeDict</span></tt></a>).</p>
</li>
</ul>
</div>
</div>
<div class="section" id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="gromacs.analysis.core.Simulation">
<em class="property">class </em><tt class="descclassname">gromacs.analysis.core.</tt><tt class="descname">Simulation</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Simulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Class that represents one simulation.</p>
<p>Analysis capabilities are added via plugins.</p>
<ol class="arabic simple">
<li>Set the <em>active plugin</em> with the <a class="reference internal" href="#gromacs.analysis.core.Simulation.set_plugin" title="gromacs.analysis.core.Simulation.set_plugin"><tt class="xref py py-meth docutils literal"><span class="pre">Simulation.set_plugin()</span></tt></a> method.</li>
<li>Analyze the trajectory with the active plugin by calling the
<a class="reference internal" href="#gromacs.analysis.core.Simulation.run" title="gromacs.analysis.core.Simulation.run"><tt class="xref py py-meth docutils literal"><span class="pre">Simulation.run()</span></tt></a> method.</li>
<li>Analyze the output from <a class="reference internal" href="#gromacs.analysis.core.Simulation.run" title="gromacs.analysis.core.Simulation.run"><tt class="xref py py-meth docutils literal"><span class="pre">run()</span></tt></a> with <a class="reference internal" href="#gromacs.analysis.core.Simulation.analyze" title="gromacs.analysis.core.Simulation.analyze"><tt class="xref py py-meth docutils literal"><span class="pre">Simulation.analyze()</span></tt></a>; results are stored
in the plugin&#8217;s <tt class="xref py py-attr docutils literal"><span class="pre">results</span></tt> dictionary.</li>
<li>Plot results with <a class="reference internal" href="#gromacs.analysis.core.Simulation.plot" title="gromacs.analysis.core.Simulation.plot"><tt class="xref py py-meth docutils literal"><span class="pre">Simulation.plot()</span></tt></a>.</li>
</ol>
<p>Set up a Simulation object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Keywords :</th><td class="field-body"><dl class="first last docutils">
<dt><em>sim</em></dt>
<dd><p class="first last">Any object that contains the attributes <em>tpr</em>, <em>xtc</em>,
and optionally <em>ndx</em>
(e.g. <a class="reference internal" href="../gromacs/blocks/cbook.html#gromacs.cbook.Transformer" title="gromacs.cbook.Transformer"><tt class="xref py py-class docutils literal"><span class="pre">gromacs.cbook.Transformer</span></tt></a>). The individual keywords such
as <em>xtc</em> override the values in <em>sim</em>.</p>
</dd>
<dt><em>tpr</em></dt>
<dd><p class="first last">Gromacs tpr file (<strong>required</strong>)</p>
</dd>
<dt><em>xtc</em></dt>
<dd><p class="first last">Gromacs trajectory, can also be a trr (<strong>required</strong>)</p>
</dd>
<dt><em>edr</em></dt>
<dd><p class="first last">Gromacs energy file (only required for some plugins)</p>
</dd>
<dt><em>ndx</em></dt>
<dd><p class="first last">Gromacs index file</p>
</dd>
<dt><em>absolute</em></dt>
<dd><p class="first last"><tt class="docutils literal"><span class="pre">True</span></tt>: Turn file names into absolute paths (typically required
for most plugins); <tt class="docutils literal"><span class="pre">False</span></tt> keep a they are [<tt class="docutils literal"><span class="pre">True</span></tt>]</p>
</dd>
<dt><em>strict</em></dt>
<dd><p class="first last"><tt class="docutils literal"><span class="pre">True</span></tt>: missing required file keyword raises a <tt class="xref py py-exc docutils literal"><span class="pre">TypeError</span></tt>
and missing the file itself raises a <tt class="xref py py-exc docutils literal"><span class="pre">IOError</span></tt>.  <tt class="docutils literal"><span class="pre">False</span></tt>:
missing required files only give a warning. [<tt class="docutils literal"><span class="pre">True</span></tt>]</p>
</dd>
<dt><em>analysisdir</em></dt>
<dd><p class="first last">directory under which derived data are stored;
defaults to the directory containing the tpr [None]</p>
</dd>
<dt><em>plugins</em> <span class="classifier-delimiter">:</span> <span class="classifier">list</span></dt>
<dd><p class="first last">plugin instances or tuples (<em>plugin class</em>, <em>kwarg dict</em>) or tuples
(<em>plugin_class_name</em>, <em>kwarg dict</em>) to be used; more can be
added later with <a class="reference internal" href="#gromacs.analysis.core.Simulation.add_plugin" title="gromacs.analysis.core.Simulation.add_plugin"><tt class="xref py py-meth docutils literal"><span class="pre">Simulation.add_plugin()</span></tt></a>.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gromacs.analysis.core.Simulation.add_plugin">
<tt class="descname">add_plugin</tt><big>(</big><em>plugin</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Simulation.add_plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a plugin to the registry.</p>
<ul class="simple">
<li>If <em>plugin</em> is a <a class="reference internal" href="#gromacs.analysis.core.Plugin" title="gromacs.analysis.core.Plugin"><tt class="xref py py-class docutils literal"><span class="pre">Plugin</span></tt></a> instance then the
instance is directly registered and any keyword arguments
are ignored.</li>
<li>If <em>plugin</em> is a <a class="reference internal" href="#gromacs.analysis.core.Plugin" title="gromacs.analysis.core.Plugin"><tt class="xref py py-class docutils literal"><span class="pre">Plugin</span></tt></a> class object or a
string that can be found in <a class="reference internal" href="plugins.html#module-gromacs.analysis.plugins" title="gromacs.analysis.plugins"><tt class="xref py py-mod docutils literal"><span class="pre">gromacs.analysis.plugins</span></tt></a>
then first an instance is created with the given keyword
arguments and then registered.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments :</th><td class="field-body"><dl class="first last docutils">
<dt><em>plugin</em> <span class="classifier-delimiter">:</span> <span class="classifier">class or string, or instance</span></dt>
<dd><p class="first">If the parameter is a class then it should have been derived
from <a class="reference internal" href="#gromacs.analysis.core.Plugin" title="gromacs.analysis.core.Plugin"><tt class="xref py py-class docutils literal"><span class="pre">Plugin</span></tt></a>. If it is a string then it is taken as a
plugin name in <a class="reference internal" href="plugins.html#module-gromacs.analysis.plugins" title="gromacs.analysis.plugins"><tt class="xref py py-mod docutils literal"><span class="pre">gromacs.analysis.plugins</span></tt></a> and the
corresponding class is added. In both cases any parameters for
initizlization should be provided.</p>
<p class="last">If <em>plugin</em> is already a <a class="reference internal" href="#gromacs.analysis.core.Plugin" title="gromacs.analysis.core.Plugin"><tt class="xref py py-class docutils literal"><span class="pre">Plugin</span></tt></a> instance then the kwargs
will be ignored.</p>
</dd>
<dt><em>kwargs</em></dt>
<dd><p class="first last">The kwargs are specific for the plugin and should be
described in its documentation.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.core.Simulation.set_plugin">
<tt class="descname">set_plugin</tt><big>(</big><em>plugin_name</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Simulation.set_plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the plugin that should be used by default.</p>
<p>If no <em>plugin_name</em> is supplied to <a class="reference internal" href="#gromacs.analysis.core.Simulation.run" title="gromacs.analysis.core.Simulation.run"><tt class="xref py py-meth docutils literal"><span class="pre">run()</span></tt></a>, <a class="reference internal" href="#gromacs.analysis.core.Simulation.analyze" title="gromacs.analysis.core.Simulation.analyze"><tt class="xref py py-meth docutils literal"><span class="pre">analyze()</span></tt></a> etc. then
this will be used.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.core.Simulation.get_plugin">
<tt class="descname">get_plugin</tt><big>(</big><em>plugin_name=None</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Simulation.get_plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return valid plugin or the default for <a href="#id1"><span class="problematic" id="id2">*</span></a>plugin_name*=``None``.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.core.Simulation.run">
<tt class="descname">run</tt><big>(</big><em>plugin_name=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Simulation.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate data files as prerequisite to analysis.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.core.Simulation.analyze">
<tt class="descname">analyze</tt><big>(</big><em>plugin_name=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Simulation.analyze" title="Permalink to this definition">¶</a></dt>
<dd><p>Run analysis for the plugin.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.core.Simulation.plot">
<tt class="descname">plot</tt><big>(</big><em>plugin_name=None</em>, <em>figure=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Simulation.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot all data for the selected plugin:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">plot</span><span class="p">(</span><span class="n">plugin_name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments :</th><td class="field-body"><dl class="first last docutils">
<dt><em>plugin_name</em></dt>
<dd><p class="first last">name of the plugin to plot data from</p>
</dd>
<dt><em>figure</em></dt>
<dd><ul class="first last simple">
<li><tt class="docutils literal"><span class="pre">True</span></tt>: plot to file with default name.</li>
<li>string: use this filename (+extension for format)</li>
<li><tt class="docutils literal"><span class="pre">False</span></tt>: only display</li>
</ul>
</dd>
<dt><em>kwargs</em></dt>
<dd><p class="first last">arguments for plugin plot function (in many cases
provided by <tt class="xref py py-meth docutils literal"><span class="pre">gromacs.formats.XVG.plot()</span></tt> and
ultimately by <tt class="xref py py-func docutils literal"><span class="pre">pylab.plot()</span></tt>)</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.core.Simulation.run_all">
<tt class="descname">run_all</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Simulation.run_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the run() method for all registered plugins.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.core.Simulation.analyze_all">
<tt class="descname">analyze_all</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Simulation.analyze_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the analyze() method for all registered plugins.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.core.Simulation._apply_all">
<tt class="descname">_apply_all</tt><big>(</big><em>func</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Simulation._apply_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute <em>func</em> for all plugins.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.core.Simulation.topdir">
<tt class="descname">topdir</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Simulation.topdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a path under self.analysis_dir, which is guaranteed to exist.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Parent dirs are created if necessary.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.core.Simulation.plugindir">
<tt class="descname">plugindir</tt><big>(</big><em>plugin_name</em>, <em>*args</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Simulation.plugindir" title="Permalink to this definition">¶</a></dt>
<dd><p>Directory where the plugin creates and looks for files.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.core.Simulation.check_file">
<tt class="descname">check_file</tt><big>(</big><em>filetype</em>, <em>path</em>, <em>resolve='exception'</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Simulation.check_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise <tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt> if path does not exist. Uses <em>filetype</em> in message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments :</th><td class="field-body"><dl class="first last docutils">
<dt><em>filetype</em></dt>
<dd><p class="first last">type of file, for error message</p>
</dd>
<dt><em>path</em></dt>
<dd><p class="first last">path to file</p>
</dd>
<dt><em>resolve</em></dt>
<dd><dl class="first last docutils">
<dt>&#8220;ignore&#8221;</dt>
<dd><p class="first last">always return <tt class="docutils literal"><span class="pre">True</span></tt></p>
</dd>
<dt>&#8220;indicate&#8221;</dt>
<dd><p class="first last">return <tt class="docutils literal"><span class="pre">True</span></tt> if it exists, <tt class="docutils literal"><span class="pre">False</span></tt> otherwise</p>
</dd>
<dt>&#8220;warn&#8221;</dt>
<dd><p class="first last">indicate and issue a <tt class="xref py py-exc docutils literal"><span class="pre">UserWarning</span></tt></p>
</dd>
<dt>&#8220;exception&#8221;</dt>
<dd><p class="first last">raise <tt class="xref py py-exc docutils literal"><span class="pre">IOError</span></tt> if it does not exist [default]</p>
</dd>
</dl>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.core.Simulation.has_plugin">
<tt class="descname">has_plugin</tt><big>(</big><em>plugin_name</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Simulation.has_plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if <em>plugin_name</em> is registered.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.core.Simulation.check_plugin_name">
<tt class="descname">check_plugin_name</tt><big>(</big><em>plugin_name</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Simulation.check_plugin_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises a exc:<cite>ValueError</cite> if <em>plugin_name</em> is not registered.</p>
</dd></dl>

<dl class="attribute">
<dt id="gromacs.analysis.core.Simulation.current_plugin">
<tt class="descname">current_plugin</tt><a class="headerlink" href="#gromacs.analysis.core.Simulation.current_plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>The currently active plugin (set with <a class="reference internal" href="#gromacs.analysis.core.Simulation.set_plugin" title="gromacs.analysis.core.Simulation.set_plugin"><tt class="xref py py-meth docutils literal"><span class="pre">Simulation.set_plugin()</span></tt></a>).</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gromacs.analysis.core.Plugin">
<em class="property">class </em><tt class="descclassname">gromacs.analysis.core.</tt><tt class="descname">Plugin</tt><big>(</big><em>name=None</em>, <em>simulation=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Plugin" title="Permalink to this definition">¶</a></dt>
<dd><p>Plugin class that can be added to a <a class="reference internal" href="#gromacs.analysis.core.Simulation" title="gromacs.analysis.core.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">Simulation</span></tt></a> instance.</p>
<p>All analysis plugins must be derived from this base class.</p>
<p>If a <a class="reference internal" href="#gromacs.analysis.core.Simulation" title="gromacs.analysis.core.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">Simulation</span></tt></a> instance is provided to the constructore in the
<em>simulation</em> keyword argument then the plugin instantiates and registers a
worker class in <tt class="xref py py-attr docutils literal"><span class="pre">Simulation.plugins</span></tt> and adds the <a class="reference internal" href="#gromacs.analysis.core.Simulation" title="gromacs.analysis.core.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">Simulation</span></tt></a>
instance to the worker.</p>
<p>Otherwise the <a class="reference internal" href="#gromacs.analysis.core.Plugin.register" title="gromacs.analysis.core.Plugin.register"><tt class="xref py py-meth docutils literal"><span class="pre">Plugin.register()</span></tt></a> method must be called explicitly with
a <a class="reference internal" href="#gromacs.analysis.core.Simulation" title="gromacs.analysis.core.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">Simulation</span></tt></a> instance.</p>
<p>The plugin class handles the administrative tasks of interfacing with the
<a class="reference internal" href="#gromacs.analysis.core.Simulation" title="gromacs.analysis.core.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">Simulation</span></tt></a> class. The worker runs the analysis.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If multiple Plugin instances are added to a Simulation one <em>must</em>
set the <em>name</em> keyword argument to distinguish the
instances. Plugins are referred to by this name in all further
interactions with the user. There are no sanity checks:
A newer plugin with the same <em>name</em> simply replaces the
previous one.</p>
</div>
<p>Registers the plugin with the simulation class.</p>
<p>Specific keyword arguments are listed below, all other kwargs
are passed through.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments :</th><td class="field-body"><dl class="first last docutils">
<dt><em>name</em> <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">Name of the plugin. Should differ for different
instances. Defaults to the class name.</p>
</dd>
<dt><em>simulation</em> <span class="classifier-delimiter">:</span> <span class="classifier">Simulation instance</span></dt>
<dd><p class="first last">The <a class="reference internal" href="#gromacs.analysis.core.Simulation" title="gromacs.analysis.core.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">Simulation</span></tt></a> instance that owns this plugin instance. Can be
<tt class="docutils literal"><span class="pre">None</span></tt> but then the <a class="reference internal" href="#gromacs.analysis.core.Plugin.register" title="gromacs.analysis.core.Plugin.register"><tt class="xref py py-meth docutils literal"><span class="pre">register()</span></tt></a> method has to be called manually
with a simulation instance later.</p>
</dd>
<dt><em>kwargs</em></dt>
<dd><p class="first last">All other keyword arguments are passed to the Worker.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="gromacs.analysis.core.Plugin.plugin_name">
<tt class="descname">plugin_name</tt><a class="headerlink" href="#gromacs.analysis.core.Plugin.plugin_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the plugin; this must be a <em>unique</em> identifier across
all plugins of a <a class="reference internal" href="#gromacs.analysis.core.Simulation" title="gromacs.analysis.core.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">Simulation</span></tt></a> object. It should also be
human understandable and must be a valid python identifier as it
is used as a dict key.</p>
</dd></dl>

<dl class="attribute">
<dt id="gromacs.analysis.core.Plugin.simulation">
<tt class="descname">simulation</tt><a class="headerlink" href="#gromacs.analysis.core.Plugin.simulation" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#gromacs.analysis.core.Simulation" title="gromacs.analysis.core.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">Simulation</span></tt></a> instance who owns the plugin. Can be
<tt class="docutils literal"><span class="pre">None</span></tt> until a successful call to <a class="reference internal" href="#gromacs.analysis.core.Plugin.register" title="gromacs.analysis.core.Plugin.register"><tt class="xref py py-meth docutils literal"><span class="pre">register()</span></tt></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="gromacs.analysis.core.Plugin.worker">
<tt class="descname">worker</tt><a class="headerlink" href="#gromacs.analysis.core.Plugin.worker" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#gromacs.analysis.core.Worker" title="gromacs.analysis.core.Worker"><tt class="xref py py-class docutils literal"><span class="pre">Worker</span></tt></a> instance of the plugin.</p>
</dd></dl>

<dl class="attribute">
<dt id="gromacs.analysis.core.Plugin.worker_class">
<tt class="descname">worker_class</tt><em class="property"> = None</em><a class="headerlink" href="#gromacs.analysis.core.Plugin.worker_class" title="Permalink to this definition">¶</a></dt>
<dd><p>actual plugin <a class="reference internal" href="#gromacs.analysis.core.Worker" title="gromacs.analysis.core.Worker"><tt class="xref py py-class docutils literal"><span class="pre">gromacs.analysis.core.Worker</span></tt></a> class (name with leading underscore)</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.core.Plugin.register">
<tt class="descname">register</tt><big>(</big><em>simulation</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Plugin.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register the plugin with the <a class="reference internal" href="#gromacs.analysis.core.Simulation" title="gromacs.analysis.core.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">Simulation</span></tt></a> instance.</p>
<p>This method also ensures that the worker class knows the simulation
instance. This is typically required for its <tt class="xref py py-meth docutils literal"><span class="pre">run()</span></tt>,
<tt class="xref py py-meth docutils literal"><span class="pre">analyze()</span></tt>, and <tt class="xref py py-meth docutils literal"><span class="pre">plot()</span></tt> methods.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gromacs.analysis.core.Worker">
<em class="property">class </em><tt class="descclassname">gromacs.analysis.core.</tt><tt class="descname">Worker</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Worker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../gromacs/core/utilities.html#gromacs.utilities.FileUtils" title="gromacs.utilities.FileUtils"><tt class="xref py py-class docutils literal"><span class="pre">gromacs.utilities.FileUtils</span></tt></a></p>
<p>Base class for a plugin worker.</p>
<p>Set up Worker class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Keywords :</th><td class="field-body"><dl class="first last docutils">
<dt><em>plugin</em> <span class="classifier-delimiter">:</span> <span class="classifier">instance</span></dt>
<dd><p class="first last">The <a class="reference internal" href="#gromacs.analysis.core.Plugin" title="gromacs.analysis.core.Plugin"><tt class="xref py py-class docutils literal"><span class="pre">Plugin</span></tt></a> instance that owns this worker. <strong>Must be supplied.</strong></p>
</dd>
<dt><em>simulation</em></dt>
<dd><p class="first last">A :class:Simulation` object, required for registration,
but can be supplied later.</p>
</dd>
<dt><em>kwargs</em></dt>
<dd><p class="first last">All other keyword arguments are passed to the super class.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gromacs.analysis.core.Worker.topdir">
<tt class="descname">topdir</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Worker.topdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a directory located under the simulation top directory.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.core.Worker.plugindir">
<tt class="descname">plugindir</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Worker.plugindir" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a directory located under the plugin top directory.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.core.Worker.savefig">
<tt class="descname">savefig</tt><big>(</big><em>filename=None</em>, <em>ext='png'</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Worker.savefig" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current figure under the default name or <em>filename</em>.</p>
<p>Uses the supplied format and extension <em>ext</em>.</p>
</dd></dl>

<dl class="method">
<dt id="gromacs.analysis.core.Worker._register_hook">
<tt class="descname">_register_hook</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#gromacs.analysis.core.Worker._register_hook" title="Permalink to this definition">¶</a></dt>
<dd><p>Things to initialize once the <a class="reference internal" href="#gromacs.analysis.core.Simulation" title="gromacs.analysis.core.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">Simulation</span></tt></a> instance is known.</p>
<p>The hook is called from <a class="reference internal" href="#gromacs.analysis.core.Plugin.register" title="gromacs.analysis.core.Plugin.register"><tt class="xref py py-meth docutils literal"><span class="pre">Plugin.register()</span></tt></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Subclasses should do all their <a class="reference internal" href="#gromacs.analysis.core.Simulation" title="gromacs.analysis.core.Simulation"><tt class="xref py py-class docutils literal"><span class="pre">Simulation</span></tt></a> -
dependent initialization in their own <a class="reference internal" href="#gromacs.analysis.core.Worker._register_hook" title="gromacs.analysis.core.Worker._register_hook"><tt class="xref py py-meth docutils literal"><span class="pre">_register_hook()</span></tt></a> which
<strong>must</strong> call the super class hook via the <tt class="xref py py-class docutils literal"><span class="pre">super</span></tt>
mechanism.</p>
</div>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="support.html" title="Support modules"
             >next</a> |</li>
        <li class="right" >
          <a href="../analysis.html" title="Analysis"
             >previous</a> |</li>
        <li><a href="../index.html">GromacsWrapper 0.3.1 documentation</a> &raquo;</li>
          <li><a href="../analysis.html" >Analysis</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009-2012, Oliver Beckstein, Jan Domański.
      Last updated on Dec 10, 2012.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>